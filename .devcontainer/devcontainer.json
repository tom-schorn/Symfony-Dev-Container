{
  "name": "Symfony 7.4 Development Container",
  "dockerComposeFile": "docker-compose.yml",
  "service": "php",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

  "customizations": {
    "jetbrains": {
      "backend": "PhpStorm",
      "plugins": [
        "com.jetbrains.php.tools.quality.phpstan",
        "com.jetbrains.php.psalm",
        "fr.adrienbrault.idea.symfony2plugin"
      ]
    }
  },

  "forwardPorts": [
    8000,
    9003
  ],

  "portsAttributes": {
    "8000": {
      "label": "Symfony Dev Server",
      "onAutoForward": "notify"
    },
    "9003": {
      "label": "Xdebug",
      "onAutoForward": "silent"
    }
  },

  "postCreateCommand": "echo 'DevContainer ready for PHPStorm 2025.3'",

  "remoteUser": "vscode",

  "containerEnv": {
    "XDEBUG_MODE": "develop,debug,coverage",
    "XDEBUG_CONFIG": "client_host=host.docker.internal"
  }
}
